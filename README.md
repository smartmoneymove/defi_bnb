# DeFi Liquidity Manager v2.0

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å—é –¥–ª—è Uniswap V3 –Ω–∞ Base —Å–µ—Ç–∏. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏ –≤ –ø—É–ª–µ cbBTC/USDC —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–º —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å PancakeSwap Farm –∏ Telegram —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º.

## üåü –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **ü§ñ Telegram —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ start/stop/rebalance/reset
- **‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 3 –ø–æ–∑–∏—Ü–∏—è–º–∏** —Å —Ç–æ–Ω–∫–∏–º –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º (0.04% –∫–∞–∂–¥–∞—è)
- **üîÑ –£–º–Ω—ã–π —Ä–µ–±–∞–ª–∞–Ω—Å–∏–Ω–≥** –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ —Ü–µ–Ω—ã –Ω–∞ 0.1%
- **üç∞ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CAKE —Ç–æ–∫–µ–Ω–∞–º–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–≤–∞–ø CAKE –≤ USDC
- **üöú PancakeSwap Farms** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
- **üìä –ü–æ–ª–Ω–æ–µ P&L –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ** —Å —Ä–∞—Å—á–µ—Ç–æ–º APY –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ—Ç–µ—Ä—å
- **üõ°Ô∏è –ó–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã** –æ—Ç slippage –∏ MEV –∞—Ç–∞–∫
- **üíπ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–∞–ø—ã** –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- **üî• –ú–∞—Å—Å–æ–≤–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π** —á–µ—Ä–µ–∑ multicall –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏
- **3 —Å–ª–æ—Ç–∞ –ø–æ–∑–∏—Ü–∏–π** —Å –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º –ø–æ 4 —Ç–∏–∫–∞ (0.04%)
- **–û–±—â–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω:** 0.12% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
- **–ü–æ–∑–∏—Ü–∏–∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤—Å—Ç—ã–∫** –±–µ–∑ –≥—ç–ø–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ —Ü–µ–Ω—ã –∑–∞ –ø—Ä–µ–¥–µ–ª—ã

### –õ–æ–≥–∏–∫–∞ —Ä–µ–±–∞–ª–∞–Ω—Å–∏–Ω–≥–∞
```
–¶–µ–Ω–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ ‚Üí –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ > 0.1% ‚Üí –ß–∞—Å—Ç–∏—á–Ω—ã–π —Ä–µ–±–∞–ª–∞–Ω—Å (1-2 –ø–æ–∑–∏—Ü–∏–∏)
–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ > 0.19% ‚Üí –ü–æ–ª–Ω—ã–π —Ä–µ–±–∞–ª–∞–Ω—Å (–≤—Å–µ 3 –ø–æ–∑–∏—Ü–∏–∏)
```

### Telegram —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- `/start` - –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `/stop` - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è)
- `/rebalance` - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–ª–Ω—ã–π —Ä–µ–±–∞–ª–∞–Ω—Å –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π
- `/reset` - –ü–æ–ª–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π –∏ —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `/status` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã
- `/help` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
# Blockchain Configuration
RPC_URL=https://base-mainnet.g.alchemy.com/v2/YOUR_API_KEY
WALLET_ADDRESS=0xYourWalletAddress
PRIVATE_KEY=your_private_key_without_0x

# Pool Configuration  
POOL_ADDRESS=0xb94b22332ABf5f89877A14Cc88f2aBC48c34B3Df  # cbBTC/USDC Base
FEE_TIER=100
SWAP_POOL_FEE_TIER_FOR_REBALANCE=100

# Token Addresses (Base Network)
USDC_ADDRESS_BASE=0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913
CBBTC_ADDRESS_BASE=0xcbB7C0000aB88B473b1f5aFd9ef808440eed33Bf
CAKE_ADDRESS=0x3055913c90Fcc1A6CE9a358911721eEb942013A1

# DEX Configuration
PANCAKESWAP_ROUTER_ADDRESS=0xFE6508f0015C778Bdcc1fB5465bA5ebE224C9912
NONF_POS_MANAGER_ADDRESS=0x46A15B0b27311cedF172AB29E4f4766fbE7F4364

# Farm Configuration
MASTERCHEF_V3_ADDRESS=0x21F626E5A8cBa47b94D69E75d5d1Faa9C5B04A81

# Telegram Bot (optional)
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# ABI Files
NONF_POS_MANAGER_ABI_JSON_PATH=src/abi/PancakeswapV3NonfungiblePositionManager.json

# Google Sheets (optional)
GOOGLE_SHEETS_ID=15yp8anIMPNFFqtD5p-YGlg5u8ewUHeDjluKXrCoGrYo
GOOGLE_SERVICE_ACCOUNT_PATH=service-account.json
# –õ–∏—Å—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ –∞–¥—Ä–µ—Å—É –∫–æ—à–µ–ª—å–∫–∞ (WALLET_ADDRESS)
```

### 3. –ó–∞–ø—É—Å–∫
```bash
# –û—Å–Ω–æ–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å—é
python src/main.py

# –ú–∞—Å—Å–æ–≤–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π
python src/close_all.py

# –û—Ç–ø—Ä–∞–≤–∫–∞ NFT –≤ CAKE —Ñ–∞—Ä–º–∏–Ω–≥  
python src/cake_farm.py

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Google Sheets Logger
python src/google_sheets_logger.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
defimanager/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.py                 # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Å Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ liquidity_manager.py    # –ì–ª–∞–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å—é  
‚îÇ   ‚îú‚îÄ‚îÄ close_all.py           # –ú–∞—Å—Å–æ–≤–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ telegram_controller.py  # Telegram –±–æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ data_collector.py       # –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ –ø—É–ª–µ –∏ –ø–æ—Ä—Ç—Ñ–µ–ª–µ
‚îÇ   ‚îú‚îÄ‚îÄ cake_farm.py           # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PancakeSwap Farm
‚îÇ   ‚îú‚îÄ‚îÄ google_sheets_logger.py # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Google Sheets
‚îÇ   ‚îú‚îÄ‚îÄ abi/                   # ABI –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ liquidity_manager_state.json  # –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ data_collector_state.json     # –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–±–æ—Ä—â–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ data/
‚îú‚îÄ‚îÄ service-account.json      # Google Service Account (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ requirements.txt           # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ GOOGLE_SHEETS_SETUP.md    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets
‚îú‚îÄ‚îÄ FIXED_ISSUES.md           # –ò—Å—Ç–æ—Ä–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
‚îî‚îÄ‚îÄ README.md
```

## üí∞ P&L –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
–°–∏—Å—Ç–µ–º–∞ –≤–µ–¥–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

- **üìà –ß–∏—Å—Ç—ã–π P&L** –≤ USDC –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏
- **üìä –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å** –∏ –≥–æ–¥–æ–≤–∞—è APY
- **‚è∞ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏** (Impermanent Loss)
- **üíµ –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏** –æ—Ç —Ç—Ä–µ–π–¥–µ—Ä–æ–≤
- **üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å HODL** —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π

## ‚öôÔ∏è –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. LiquidityManager (`src/liquidity_manager.py`)
–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å—é:
- `decide_and_manage_liquidity()` - –ì–ª–∞–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- `analyze_rebalance_with_price()` - –ê–Ω–∞–ª–∏–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–±–∞–ª–∞–Ω—Å–∞
- `_perform_full_rebalance()` - –ü–æ–ª–Ω–æ–µ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π
- `_perform_partial_rebalance()` - –ß–∞—Å—Ç–∏—á–Ω–æ–µ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ 1-2 –ø–æ–∑–∏—Ü–∏–π
- `_execute_add_liquidity_fast()` - –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π —Å —Å–≤–∞–ø–∞–º–∏

### 2. PositionCloser (`src/close_all.py`)
–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è:
- `close_all_positions_multicall()` - –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π
- `swap_cake_to_usdc()` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–≤–∞–ø CAKE —Ç–æ–∫–µ–Ω–æ–≤
- `rebalance_portfolio_1_to_1()` - –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è 50/50
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–∑–∏—Ü–∏–π –∫–∞–∫ –Ω–∞ –∫–æ—à–µ–ª—å–∫–µ, —Ç–∞–∫ –∏ –≤ —Ñ–∞—Ä–º–∏–Ω–≥–µ

### 3. TelegramController (`src/telegram_controller.py`)
Telegram –±–æ—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫—É Chat ID
- –ö–æ–º–∞–Ω–¥—ã —Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–±–∞–ª–∞–Ω—Å –∏ –ø–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã

### 4. CakeFarm (`src/cake_farm.py`)
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PancakeSwap Farm:
- –û—Ç–ø—Ä–∞–≤–∫–∞ NFT –ø–æ–∑–∏—Ü–∏–π –≤ —Ñ–∞—Ä–º–∏–Ω–≥
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö CAKE rewards
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `safeTransferFrom`

## üõ°Ô∏è –ó–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã

- **üéØ Slippage –∫–æ–Ω—Ç—Ä–æ–ª—å:** –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ 0.5% –¥–ª—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤
- **‚õΩ Gas –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –£–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–æ–π –≥–∞–∑–∞ +5%
- **üîÑ Multicall –±–∞—Ç—á–∏–Ω–≥:** –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —á–µ—Ä–µ–∑ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ
- **üè¶ Balance –ø—Ä–æ–≤–µ—Ä–∫–∏:** –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤
- **üîê Private –∫–ª—é—á–∏:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `.env`
- **‚úÖ Checksum –∞–¥—Ä–µ—Å–∞:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –∞–¥—Ä–µ—Å–∞—Ö

## üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –£–º–Ω—ã–π —Ä–µ–±–∞–ª–∞–Ω—Å–∏–Ω–≥
```python
strategy_params = {
    'num_positions': 3,                                    # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π
    'individual_position_width_pct': Decimal('0.0004'),   # 0.04% –Ω–∞ –ø–æ–∑–∏—Ü–∏—é  
    'total_range_width_pct': Decimal('0.0012'),           # 0.12% –æ–±—â–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω
    'rebalance_threshold_pct': Decimal('0.001'),          # 0.1% –ø–æ—Ä–æ–≥ —Ä–µ–±–∞–ª–∞–Ω—Å–∞
}
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–∞–ø—ã
- **CAKE ‚Üí USDC:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–≤–∞–ø –Ω–∞–≥—Ä–∞–¥ –ø–µ—Ä–µ–¥ —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π
- **Portfolio balancing:** –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è 50/50 USDC/cbBTC
- **Universal Router:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞ PancakeSwap

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω—ã cbBTC
- –ê–Ω–∞–ª–∏–∑ –ø–æ–∑–∏—Ü–∏–π –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–Ω–∏–º–∫–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è
- Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
curl -X POST $RPC_URL -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–æ–≤
python -c "from src.liquidity_manager import *; print('Check balances')"

# –û—á–∏—Å—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
rm src/liquidity_manager_state.json src/data_collector_state.json
```

### –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
```bash
# –û—Å–Ω–æ–≤–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
tail -f liquidity_manager.log

# P&L –∞–Ω–∞–ª–∏–∑

```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ Base mainnet —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏
2. **‚ö†Ô∏è –†–∏—Å–∫–∏:** DeFi –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –Ω–µ—Å—É—Ç —Ä–∏—Å–∫–∏ –∏–º–ø–µ—Ä–º–æ–Ω–µ–Ω—Ç–Ω—ã—Ö –ø–æ—Ç–µ—Ä—å –∏ smart contract –±–∞–≥–æ–≤  
3. **üëÄ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Telegram
4. **üí∏ –ì–∞–∑:** –£—á–∏—Ç—ã–≤–∞–π—Ç–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ gas –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö —Ä–µ–±–∞–ª–∞–Ω—Å–∞—Ö
5. **üîÑ Multicall:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `close_all.py` –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –≥–∞–∑–∞ –ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Base RPC
2. ‚õΩ –ë–∞–ª–∞–Ω—Å ETH –¥–ª—è gas fees  
3. üí∞ –ë–∞–ª–∞–Ω—Å USDC/cbBTC —Ç–æ–∫–µ–Ω–æ–≤
4. üîó –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–æ–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
5. ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫—É Telegram –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫.

---

**‚ö†Ô∏è DISCLAIMER:** –î–∞–Ω–Ω–æ–µ –ü–û –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö DeFi –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ—Ç–µ—Ä–∏. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫! 